# Qwen3 医疗微调项目依赖包（兼容旧版脚本）
# 更新日期: 2024-11-20

# ==================== 核心深度学习框架 ====================
torch>=2.1.0,<2.3
transformers==4.35.2

# ==================== 模型微调相关 ====================
peft==0.6.2               # LoRA 等参数高效微调
accelerate==0.24.1        # 分布式训练与设备管理

# ==================== 数据处理 ====================
datasets==2.16.1          # 固定以兼容 modelscope 1.9.x
pandas>=1.5,<2.2
numpy>=1.24,<2.0

# ==================== 模型下载和管理 ====================
modelscope==1.9.0         # ModelScope SDK

# ==================== Web界面 ====================
gradio>=4.16,<4.40        # 交互式演示界面

# ==================== 通用工具 ====================
regex>=2023.8.8
tqdm>=4.65.0

# ==================== RL 强化学习阶段依赖 ====================
trl==0.7.10               # PPO / value head 支持
rich>=13.0.0              # 终端美化输出
openai>=1.0.0,<1.50.0     # DeepSeek API 客户端（如无 KEY 可忽略）
protobuf>=3.20,<5         # 一些模型需要
sentencepiece>=0.1.99     # Tokenizer 支持

# ==================== 可选：性能优化 ====================
# bitsandbytes>=0.41.0    # 4bit/8bit 量化（需 CUDA）
# flash-attn>=2.3.0       # Flash Attention（特定 GPU）
# deepspeed>=0.12.0       # 分布式训练（可选）

# ==================== 版本兼容性说明 ====================
# - datasets: 固定 2.16.1 以避开 LargeList 变更并兼容 modelscope 1.9.x
# - fsspec: 若遇到 datasets 依赖冲突，将 fsspec 锁到 <=2023.10.0
# - huggingface-hub: 如遇新版本兼容性问题，可锁到 <1.0
